{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["const formEl = document.querySelector('.work-form');\nconst emailEl = document.querySelector('.work-form input[name=email]');\nconst commentsEl = document.querySelector('.work-form input[name=comment]');\nconst succesEl = document.querySelector('.work-form-succes');\nconst invalidEl = document.querySelector('.work-form-invalid')\n\nsuccesEl.style.display = 'none';\ninvalidEl.style.display = 'none';\n\n//const BASE_URL = 'https://portfolio-js.b.goit.study/api/';\nconst localKey = 'work-form-state';\nlet formDataEl = {};\n\nfillFormFields();\n\nformEl.addEventListener(\n  'input',\n  event => {\n    formDataEl[event.target.name] = event.target.value;\n    localStorage.setItem(localKey, JSON.stringify(formDataEl));\n   \n    if(emailEl.validity.valid) {\n        succesEl.style.display = 'block';\n        invalidEl.style.display = 'none';\n    } else {\n        succesEl.style.display = 'none';\n        invalidEl.style.display = 'block';\n    }\n  }\n);\n\nformEl.addEventListener('submit', event => {\n  event.preventDefault();\n  if (emailEl.value !== '' && commentsEl.value !== '') {\n    console.log(formDataEl);\n\n    // const options = {\n    //     method: \"POST\",\n    //     body: JSON.stringify(formDataEl),\n    //     headers: {\n    //         \"Content-Type\": \"application/json; charset=UTF-8\",\n    //     },\n    //   };\n    \n    //   console.log(options);\n      \n    //   fetch(`${BASE_URL}`, options)\n    //     .then((response) => {\n    //       if (!response.ok) {\n    //         throw new Error(response.status);\n    //       }\n    //       return response.json();\n    //     })\n    //     .then(post => console.log(post))\n    //     .catch(error => console.log(error));\n\n\n    localStorage.removeItem(localKey);\n    event.currentTarget.reset();\n    return;\n  }\n  alert('All fields must be filled!');\n});\n\nfunction fillFormFields() {\n  const saveFormFields = localStorage.getItem(localKey);\n  if (saveFormFields) {\n    formDataEl = JSON.parse(saveFormFields);\n    emailEl.value = formDataEl.email || '';\n    commentsEl.value = formDataEl.comment || '';\n  }\n}"],"names":["formEl","emailEl","commentsEl","succesEl","invalidEl","localKey","formDataEl","fillFormFields","event","saveFormFields"],"mappings":"ssBAAA,MAAMA,EAAS,SAAS,cAAc,YAAY,EAC5CC,EAAU,SAAS,cAAc,8BAA8B,EAC/DC,EAAa,SAAS,cAAc,gCAAgC,EACpEC,EAAW,SAAS,cAAc,mBAAmB,EACrDC,EAAY,SAAS,cAAc,oBAAoB,EAE7DD,EAAS,MAAM,QAAU,OACzBC,EAAU,MAAM,QAAU,OAG1B,MAAMC,EAAW,kBACjB,IAAIC,EAAa,CAAA,EAEjBC,IAEAP,EAAO,iBACL,QACAQ,GAAS,CACPF,EAAWE,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC7C,aAAa,QAAQH,EAAU,KAAK,UAAUC,CAAU,CAAC,EAEtDL,EAAQ,SAAS,OAChBE,EAAS,MAAM,QAAU,QACzBC,EAAU,MAAM,QAAU,SAE1BD,EAAS,MAAM,QAAU,OACzBC,EAAU,MAAM,QAAU,QAE/B,CACH,EAEAJ,EAAO,iBAAiB,SAAUQ,GAAS,CAEzC,GADAA,EAAM,eAAc,EAChBP,EAAQ,QAAU,IAAMC,EAAW,QAAU,GAAI,CACnD,QAAQ,IAAII,CAAU,EAuBtB,aAAa,WAAWD,CAAQ,EAChCG,EAAM,cAAc,QACpB,MACD,CACD,MAAM,4BAA4B,CACpC,CAAC,EAED,SAASD,GAAiB,CACxB,MAAME,EAAiB,aAAa,QAAQJ,CAAQ,EAChDI,IACFH,EAAa,KAAK,MAAMG,CAAc,EACtCR,EAAQ,MAAQK,EAAW,OAAS,GACpCJ,EAAW,MAAQI,EAAW,SAAW,GAE7C"}